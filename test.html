<html>
<head>
  <title>asx</title>
  <script src="./etc/system.js"></script>

  <script src="./etc/dat.gui.min.js"></script>
  <script src="./etc/lzma.js"></script>
  <!-- <script src="etc/lzma_worker.js"></script> -->
  <script src="./etc/pako.min.js"></script>
  <script src="./etc/stats.min.js"></script>

  <script src="./etc/AS.js"></script>

  <script src="./etc/three.min.js"></script>
  <script src="./etc/OrbitControls.js"></script>
  <script src="./etc/FlyControls.js"></script>
  <script src="./etc/FirstPersonControls.js"></script>

</head>
<body>
  <script>

    const app = document.location.search.substring(1) || 'scripts/app'
    const [appDir, appName] = app.split('/')
    const loc = `test/${appDir}/${appName}.js`
    console.log('running:', loc, 'dir:', appDir, 'name:', appName + '.js')

    switch (appDir) {
      case 'scripts': AS.util.setScript(loc); break
      case 'lib': System.import(loc); break
      case 'modules': AS.util.setScript(loc, {type: 'module'}); break
      default: throw `Oops: ${appDir} not valid dir`
    }

  </script>
  <div id='modeldiv'> </div>
</body>
</html>
