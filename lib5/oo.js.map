{"version":3,"sources":["../apps/oo.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACO,U;;;;;;;;;;;;;;;;;;;;;AAED,W;AACJ,uBAAa,UAAb,EAAyB;AAAA;;AACvB,eAAK,UAAL,GAAkB,UAAlB;AACD;;;;yCACe,I,EAAM;AAAE,mBAAO,KAAK,IAAL,KAAc,KAAK,UAAL,CAAgB,QAAhB,CAAyB,IAAzB,CAArB;AAAqD;;;qCACjE;AAAE,mBAAO,KAAK,cAAL,CAAoB,OAApB,CAAP;AAAqC;;;mCACzC,K,EAAO;AAAE,iBAAK,KAAL,GAAa,KAAb;AAAoB;;;;;;AAGnC,c;;;AACJ,4BAAe;AAAA;;AAAA;;AAEb,gBAAK,QAAL,GAAgB,EAAhB;AAFa;AAGd;;;;mCACS;AAAE,iBAAK,IAAL,CAAU,IAAI,KAAJ,CAAU,IAAV,CAAV,EAA4B,OAAO,KAAK,KAAK,MAAL,GAAc,CAAnB,CAAP;AAA8B;;;qCAC1D,I,EAAM,K,EAAO;AAAE,iBAAK,QAAL,CAAc,IAAd,IAAsB,KAAtB;AAA6B;;;;QANnC,K;;;;;;;;AAgBvB,WAAK,MAAL,CAAY,MAAZ,EAAoB,EAAE,YAAF,EAAS,kBAAT,EAAmB,UAAnB,EAApB;;AAEM,Q,GAAK,OAAO,EAAP,GAAY,IAAI,QAAJ,E;;AACvB,SAAG,UAAH,CAAc,OAAd,EAAuB,KAAvB;AACM,O,GAAI,OAAO,CAAP,GAAW,GAAG,MAAH,E;;;AAErB,WAAK,MAAL,CAAY,MAAZ,EAAoB,EAAE,MAAF,EAAM,IAAN,EAApB;;AAEA,cAAQ,GAAR,CAAY,SAAZ,EAAuB,EAAE,QAAF,EAAvB;AACA,WAAK,GAAL,CAAS,EAAT,EAAa,IAAb;AACA,WAAK,GAAL,CAAS,CAAT,EAAY,GAAZ","file":"oo.js","sourcesContent":["/* eslint no-console: 0 */\nimport util from './util.js'\n\nclass Agent {\n  constructor (myAgentSet) {\n    this.myAgentSet = myAgentSet\n  }\n  getDefaultable (name) { return this[name] || this.myAgentSet.defaults[name] }\n  getColor () { return this.getDefaultable('color') }\n  setColor (color) { this.color = color }\n}\n\nclass AgentSet extends Array {\n  constructor () {\n    super()\n    this.defaults = {}\n  }\n  create () { this.push(new Agent(this)); return this[this.length - 1] }\n  setDefault (name, value) { this.defaults[name] = value }\n\n}\n\n// let p = { x: 1 }\n// if (p.x / 4 % 2) {\n//   p.color = [255, 0, 255] }\n// else {\n//   p.color = [Math.random() * 255, Math.random() * 255, Math.random() * 255] }\n\nutil.copyTo(window, { Agent, AgentSet, util })\n\nconst as = window.as = new AgentSet()\nas.setDefault('color', 'red')\nconst a = window.a = as.create()\n\nutil.copyTo(window, { as, a })\n\nconsole.log('a.color', a.getColor())\nutil.pps(as, 'as')\nutil.pps(a, 'a')\n"]}